#!/usr/bin/env bash
#
#							Missing "x" Functions
#
missing_Template()
{
    if [[ ! -e "$DIR" ]]; then
        error_Exit "$THING missing!"
    fi
}
missing_MoneroDaemon()
{
	local DIR="$binMonero/monerod"
	local THING="monerod"
	missing_Template
}

missing_MoneroCLI()
{
	local DIR="$binMonero/monero-wallet-cli"
	local THING="monero-wallet-cli"
	missing_Template
}

missing_BinMonero()
{
	local DIR="$binMonero"
	local THING="$binMonero"
	missing_Template
}

missing_P2Pool()
{
	local DIR="$binP2Pool/p2pool"
	local THING="P2Pool"
	missing_Template
}

missing_XMRig()
{
	local DIR="$binXMRig/xmrig"
	local THING="XMRig"
	missing_Template
}

missing_DotMoneroBash()
{
	if [[ ! -d "$dotMoneroBash" ]]; then
		error_Exit "$dotMoneroBash missing!"
		echo "Create one with default settings? (Y/n) "
		Yes(){ build_DefaultDotMoneroBash ;}
		No(){ echo "Skipping..." ;}
		prompt_YESno
	fi
}

missing_Wallets()
{
	if [[ ! -d "$wallets" ]]; then
		print_Error "$wallets missing!"
		echo "Creating wallet folder..."
		mkdir "$wallets"
	fi
}

missing_ConfigFolder()
{
	if [[ ! -d "$config" ]]; then
		print_Error "$config missing!"
		echo "Creating default config folder..."
		build_Config
	fi
}

missing_ConfigTemplate()
{
	if [[ ! -f "$config/$conf" ]]; then
		print_Error "$conf missing!"
		echo "Creating default $conf..."
		sudo cp "$installDirectory/config/$conf" "$config/$conf"
	fi
}

missing_ConfigMonerod()
{
	local conf="monerod.conf"
	missing_ConfigTemplate
}

missing_ConfigWallet()
{
	local conf="monero-wallet-cli.conf"
	missing_ConfigTemplate
}


missing_ConfigMoneroBash()
{
	local conf="monero-bash.conf"
	missing_ConfigTemplate
}


missing_ConfigXMRig()
{
	local conf="xmrig.json"
	missing_ConfigTemplate
}


missing_ConfigP2Pool()
{
	local conf="p2pool.json"
	missing_ConfigTemplate
}

missing_ConfigAll()
{
	missing_ConfigMoneroBash
	[[ $MONERO_VER != "" ]]&& missing_ConfigMonerod && missing_ConfigWallet
	[[ $XMRIG_VER != "" ]]&& missing_ConfigXMRig
	[[ $P2POOL_VER != "" ]]&& missing_ConfigP2Pool
}

missing_systemd_Monerod()
{
	if [[ $SYSTEMD_MONEROD = "true" && ! -f /etc/systemd/system/monero-bash-monerod.service ]]; then
		error_Continue "monero-bash-monerod.service missing!"
		$bwhite; echo "To make one: "
		$bred; echo "monero-bash mine configure"
		exit
	fi
}

missing_systemd_XMRig()
{
	if [[ ! -f /etc/systemd/system/monero-bash-xmrig.service ]]; then
		error_Continue "monero-bash-xmrig.service missing!"
		$bwhite; echo "To make one: "
		$bred; echo "monero-bash mine configure"
		exit
	fi
}

missing_systemd_P2Pool()
{
	if [[ ! -f /etc/systemd/system/monero-bash-p2pool.service ]]; then
		error_Continue "monero-bash-p2pool.service missing!"
		$bwhite; echo "To make one: "
		$bred; echo "monero-bash mine configure"
		exit
	fi
}

