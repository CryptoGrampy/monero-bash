#!/usr/bin/env bash
#
#						status function, prints multiple helpful stats
#
status_All()
{
	print_MoneroBashTitle
	wallet_Count
	wallet_List
	if [[ $ZERO_WALLETS != "true" ]]; then
		echo
	fi
	print_Version
	echo
	status_Daemon
	status_XMRig
	status_P2Pool
}

status_Template()
{
	$white; echo -n "$NAME: "
	if pgrep $PROCESS &>/dev/null ;then
		$bgreen; echo "online"
		EXTRA_STATS
	else
		$bred; echo "offline"
	fi
}

status_Daemon()
{
	local NAME="Monero daemon"
	local PROCESS="monerod"
	EXTRA_STATS(){ $binMonero/monerod status ;}
	status_Template
}

status_XMRig()
{
	local NAME="XMRig"
	local PROCESS="xmrig"
	EXTRA_STATS(){ journalctl -u monero-bash-xmrig --output cat | tail -n5 :;}
	status_Template
}

status_P2Pool()
{
	local NAME="P2Pool"
	local PROCESS="p2pool"
	EXTRA_STATS(){ journalctl -u monero-bash-p2pool --output cat | tail -n5 :;}
	status_Template
}
